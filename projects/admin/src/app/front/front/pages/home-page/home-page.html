<div class="row mt-3 px-1">
    <div class="col-xs-6 col-md-4">
        <ng-container *ngTemplateOutlet="welcome"></ng-container>
        <ng-container *ngIf="isMdOrAbove">
            <ng-container *ngTemplateOutlet="whoarewe"></ng-container>
        </ng-container>
    </div>
    <div class="col-xs-6 col-md-4 d-flex justify-content-center">
        <ng-container *ngTemplateOutlet="imagegallery"></ng-container>
    </div>
    <div class="d-none d-md-block col-md-4">
        <ng-container *ngTemplateOutlet="birthdays"></ng-container>
    </div>
    <div class="d-block d-md-none px-2">
        <ng-container *ngTemplateOutlet="whoarewe"></ng-container>
    </div>
</div>



<div class="row px-2 mt-1 mb-4 g-md-5">
    <div [ngClass]="tournamentsColClass">
        <div class="text-uppercase text-success mt-1">Prochains tournois</div>
        <app-tournaments [displayTitle]="false" [row_cols]="tournaments_row_cols"></app-tournaments>
    </div>
    
    <div [ngClass]="newsColClass">
        <div class="text-uppercase text-success mt-1">Les dernières nouvelles</div>
        <!-- <div class="text-info" (click)="goToNews($event)" style="cursor: pointer;">... accéder à la totalité des
            informations</div> -->
        <app-generic-page [row_cols]="news_row_cols" [page_title]="EXTRA_TITLES.HIGHLIGHTS"></app-generic-page>
    </div>
</div>

<ng-template #welcome>
    <div class="card-body">
        <span class="text-uppercase text-success">Bienvenue au Bridge Club de Saint-Orens</span>
        <span class="d-block mb-3">un club dynamique, et convivial.</span>
    </div>
</ng-template>
<ng-template #whoarewe>
    <span class="d-block mb-3">
        <img src="/label-silver.svg" style="max-height:6rem; float: left; margin-right: 0.5rem;" alt="silver_label" />
        Son école de Bridge vous permettra de consolider votre technique, selon votre niveau.
    </span>
    <span class="d-block mb-3 text-center">Aujourd'hui,
        nous sommes <span class="fw-bold">{{ licensee_nbr }}</span> adhérents licenciés ,
        et <span class="fw-bold">{{ student_nbr }}</span> en apprentissage.
    </span>
</ng-template>

<ng-template #birthdays>
    <div *ngIf="logged_member$ | async as logged_member" class="d-none d-md-block px-3">
        <div *ngIf="next_birthdays.length > 0" class="card-body">
            <div class="text-uppercase text-success mb-2">Prochains anniversaires</div>
            <div class="row">
                <div *ngFor="let day of next_birthdays" class="col-6 mb-3">
                    <div class="fw-bold small">{{ day.day | date:'EEE d MMM':'':'fr-FR' }}</div>
                    <div *ngFor="let member of day.members" class="small">
                        <i class="bi bi-gift-fill text-danger me-1"></i>{{ member.firstname }} {{ member.lastname }}  
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #imagegallery>
    <div class="rounded-2 overflow-hidden nice_shadow ar-16_9 d-inline-block mx-auto" style="height: 12rem;">
        <img class="fade-img" [src]="photos[photo_index]" alt="photo" decoding="async" loading="eager"
            [style.opacity]="opacity" style="width: 100%; height: 100%; object-fit: cover; display: block;" />
    </div>
</ng-template>