<div class="container offset-md-2 col-md-8">
    <h3>Répertoire {{ directory }}</h3>

    <h5>
        Upload de fichier
        <span>
            <input #fileInput type="file" class="form-control" (change)="upload_file($event)">
        </span>
    </h5>
    <h5 class="mt-3"> Liste des fichiers téléchargés</h5>
    <table class="table table-striped table-sm">
        <thead>
            <tr>
                <th>Chemin</th>
                <th class="text-center" *ngIf="type === 'images'">Image</th>
                <th class="text-end me-4">Taille</th>
                <th class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let file of files$()">
                <td>{{ file.path }}</td>
                <td *ngIf="type === 'images'">
                    <img  [src]="file.url | async" alt="{{ file.path }}" class="img-fluid"
                        style="max-height: 100px; max-width: 100px;">
                </td>
                <td class="text-end">{{file.size | number}} octets</td>
                <td class="text-center ">
                    <button *ngIf="type === 'images'" class="btn btn-sm btn-outline-primary" (click)="image_process(file)">
                        <i class="bi bi-balloon-fill"></i>
                    </button>
                    <button class="btn btn-sm btn-outline-primary ms-1" (click)="delete_file(file)">
                        <i class="bi bi-trash"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>